<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- <meta
      name="keywords"
      content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 5 admin, bootstrap 5, css3 dashboard, bootstrap 5 dashboard, Matrix lite admin bootstrap 5 dashboard, frontend, responsive bootstrap 5 admin template, Matrix admin lite design, Matrix admin lite dashboard bootstrap 5 dashboard template"
    />
    <meta
      name="description"
      content="Matrix Admin Lite Free Version is powerful and clean admin dashboard template, inpired from Bootstrap Framework"
    />
    <meta name="robots" content="noindex,nofollow" /> -->
    <title>Pull Out Form</title>
    <!-- Favicon icon -->
    <!-- <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../assets/images/favicon.png"
    /> -->
    <!-- Custom CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="../assets/libs/select2/dist/css/select2.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../assets/libs/jquery-minicolors/jquery.minicolors.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../assets/libs/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../assets/libs/quill/dist/quill.snow.css"
    />
    <link href="../dist/css/style.min.css" rel="stylesheet" />
    <style>
      #poPage {
        background: #27a9e3;
        opacity: 1;
      }

      .loader {
        display: none;
        position: fixed;
        top: 40%;
        left: 50%;
        border: 16px solid #f3f3f3;
        border-radius: 50%;
        border-top: 16px solid #3498db;
        width: 120px;
        height: 120px;
        -webkit-animation: spin 2s linear; /* Safari */
        animation: spin 2s linear;
      }

      /* Safari */
      @-webkit-keyframes spin {
        0% {
          -webkit-transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
        }
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>

  <body>
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
      <div class="lds-ripple">
        <div class="lds-pos"></div>
        <div class="lds-pos"></div>
      </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div
      id="main-wrapper"
      data-layout="vertical"
      data-navbarbg="skin5"
      data-sidebartype="full"
      data-sidebar-position="absolute"
      data-header-position="absolute"
      data-boxed-layout="full"
    >
      <!-- ============================================================== -->
      <!-- Topbar header - style you can find in pages.scss -->
      <!-- ============================================================== -->
      <!-- <header class="topbar" data-navbarbg="skin5" style="background: #2b3a55">
        <nav class="navbar top-navbar navbar-expand-md navbar-dark">
          <div class="navbar-header" data-logobg="skin5">
            <a
              class="nav-toggler waves-effect waves-light d-block d-md-none"
              href="javascript:void(0)"
              ><i class="ti-menu ti-close"></i
            ></a>
          </div>

          <div
            class="navbar-collapse collapse"
            data-navbarbg="skin5"
            style="background: #212a3e"
          >
            <ul class="navbar-nav float-start me-auto"></ul>

            <ul class="navbar-nav float-end">
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle text-muted waves-effect waves-dark pro-pic"
                  href="#"
                  id="navbarDropdown"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <img
                    src="../assets/images/users/1.jpg"
                    alt="user"
                    class="rounded-circle"
                    width="31"
                  />
                </a>
                <ul
                  class="dropdown-menu dropdown-menu-end user-dd animated"
                  aria-labelledby="navbarDropdown"
                >
                  <a class="dropdown-item" href="javascript:void(0)"
                    ><i class="mdi mdi-account me-1 ms-1"></i> My Profile</a
                  >
                  <a class="dropdown-item" href="javascript:void(0)"
                    ><i class="mdi mdi-wallet me-1 ms-1"></i> My Balance</a
                  >
                  <a class="dropdown-item" href="javascript:void(0)"
                    ><i class="mdi mdi-email me-1 ms-1"></i> Inbox</a
                  >
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="javascript:void(0)"
                    ><i class="mdi mdi-settings me-1 ms-1"></i> Account
                    Setting</a
                  >
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="javascript:void(0)"
                    ><i class="fa fa-power-off me-1 ms-1"></i> Logout</a
                  >
                  <div class="dropdown-divider"></div>
                  <div class="ps-4 p-10">
                    <a
                      href="javascript:void(0)"
                      class="btn btn-sm btn-success btn-rounded text-white"
                      >View Profile</a
                    >
                  </div>
                </ul>
              </li>
            </ul>
          </div>
        </nav>
      </header> -->

      <aside
        class="left-sidebar"
        data-sidebarbg="skin5"
        style="background: #2b3a55"
      >
        <!-- Sidebar scroll-->
        <div class="scroll-sidebar">
          <!-- Sidebar navigation-->
          <nav class="sidebar-nav">
            <ul id="sidebarnav" class="pt-4" style="background: #2b3a55">
              <li class="sidebar-item">
                <a
                  class="sidebar-link waves-effect waves-dark sidebar-link"
                  href="/job-order-listing"
                  aria-expanded="false"
                  ><i class="mdi mdi-view-dashboard"></i
                  ><span class="hide-menu">Job Order Listing</span></a
                >
              </li>
              <li class="sidebar-item">
                <a
                  id="poPage"
                  class="sidebar-link waves-effect waves-dark sidebar-link"
                  href="pull-out-listing"
                  aria-expanded="false"
                  ><i class="mdi mdi-border-inside"></i
                  ><span class="hide-menu">PullOut Listing</span></a
                >
              </li>
              <!-- <li class="sidebar-item">
                <a
                  class="sidebar-link waves-effect waves-dark sidebar-link"
                  href="pages-buttons.html"
                  aria-expanded="false"
                  ><i class="mdi mdi-relative-scale"></i
                  ><span class="hide-menu">Buttons</span></a
                >
              </li> -->

              <!-- <li class="sidebar-item">
                <a
                  class="sidebar-link waves-effect waves-dark sidebar-link"
                  href="pages-elements.html"
                  aria-expanded="false"
                  ><i class="mdi mdi-pencil"></i
                  ><span class="hide-menu">Elements</span></a
                >
              </li> -->

              <!-- <li class="sidebar-item">
                <a
                  class="sidebar-link has-arrow waves-effect waves-dark"
                  href="javascript:void(0)"
                  aria-expanded="false"
                  ><i class="mdi mdi-account-key"></i
                  ><span class="hide-menu">Authentication </span></a
                >
                <ul aria-expanded="false" class="collapse first-level">
                  <li class="sidebar-item">
                    <a href="authentication-login.html" class="sidebar-link"
                      ><i class="mdi mdi-all-inclusive"></i
                      ><span class="hide-menu"> Login </span></a
                    >
                  </li>
                  <li class="sidebar-item">
                    <a href="authentication-register.html" class="sidebar-link"
                      ><i class="mdi mdi-all-inclusive"></i
                      ><span class="hide-menu"> Register </span></a
                    >
                  </li>
                </ul>
              </li> -->

              <!-- <li class="sidebar-item">
                <a
                  class="sidebar-link has-arrow waves-effect waves-dark"
                  href="javascript:void(0)"
                  aria-expanded="false"
                  ><i class="mdi mdi-alert"></i
                  ><span class="hide-menu">Errors </span></a
                >
                <ul aria-expanded="false" class="collapse first-level">
                  <li class="sidebar-item">
                    <a href="error-403.html" class="sidebar-link"
                      ><i class="mdi mdi-alert-octagon"></i
                      ><span class="hide-menu"> Error 403 </span></a
                    >
                  </li>
                  <li class="sidebar-item">
                    <a href="error-404.html" class="sidebar-link"
                      ><i class="mdi mdi-alert-octagon"></i
                      ><span class="hide-menu"> Error 404 </span></a
                    >
                  </li>
                  <li class="sidebar-item">
                    <a href="error-405.html" class="sidebar-link"
                      ><i class="mdi mdi-alert-octagon"></i
                      ><span class="hide-menu"> Error 405 </span></a
                    >
                  </li>
                  <li class="sidebar-item">
                    <a href="error-500.html" class="sidebar-link"
                      ><i class="mdi mdi-alert-octagon"></i
                      ><span class="hide-menu"> Error 500 </span></a
                    >
                  </li>
                </ul>
              </li> -->
            </ul>
          </nav>
          <!-- End Sidebar navigation -->
        </div>
        <!-- End Sidebar scroll-->
      </aside>

      <div
        class="page-wrapper"
        style="height: 100vh; background: #212a3e; overflow: scroll"
      >
        <header
          class="topbar"
          data-navbarbg="skin5"
          style="background: #212a3e"
        >
          <nav class="navbar top-navbar navbar-expand-md navbar-dark">
            <!-- <div class="navbar-header" data-logobg="skin5">
              <a
                class="nav-toggler waves-effect waves-light d-block d-md-none"
                href="javascript:void(0)"
                ><i class="ti-menu ti-close"></i
              ></a>
            </div> -->

            <div
              class="navbar-collapse collapse"
              data-navbarbg="skin5"
              style="background: #212a3e"
            >
              <ul class="navbar-nav float-start me-auto"></ul>

              <ul class="navbar-nav float-end">
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle text-muted waves-effect waves-dark pro-pic"
                    href="#"
                    id="navbarDropdown"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <img
                      src="../assets/images/users/1.jpg"
                      alt="user"
                      class="rounded-circle"
                      width="31"
                    />
                  </a>
                  <ul
                    class="dropdown-menu dropdown-menu-end user-dd animated"
                    aria-labelledby="navbarDropdown"
                  >
                    <h3
                      class="dropdown-item"
                      id="welcomeUsername"
                      style="
                        font-family: 'Times New Roman', Times, serif;
                        text-align: center;
                      "
                    >
                      Welcome, username!
                    </h3>
                    <a class="dropdown-item" href="javascript:void(0)"
                      ><i class="mdi mdi-account me-1 ms-1"></i> My Profile</a
                    >
                    <a class="dropdown-item" href="javascript:void(0)"
                      ><i class="mdi mdi-wallet me-1 ms-1"></i> My Balance</a
                    >
                    <a class="dropdown-item" href="javascript:void(0)"
                      ><i class="mdi mdi-email me-1 ms-1"></i> Inbox</a
                    >
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="javascript:void(0)"
                      ><i class="mdi mdi-settings me-1 ms-1"></i> Account
                      Setting</a
                    >
                    <!-- <div class="dropdown-divider"></div> -->
                    <a class="dropdown-item" onclick="logOut()"
                      ><i class="fa fa-power-off me-1 ms-1"></i> Logout</a
                    >
                    <!-- <div class="dropdown-divider"></div>
                    <div class="ps-4 p-10">
                      <a
                        href="javascript:void(0)"
                        class="btn btn-sm btn-success btn-rounded text-white"
                        >View Profile</a
                      >
                    </div> -->
                  </ul>
                </li>
              </ul>
            </div>
          </nav>
        </header>
        <div class="container-fluid">
          <!-- <div class="row"> -->
          <!-- <div class="col-md-6"> -->
          <div
            class="card"
            style="
              /* box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2),
                0 6px 20px 0 rgba(0, 0, 0, 0.19); */
              background: #2b3a55;
            "
          >
            <form id="poForm" style="color: white; padding: 20px">
              <div class="card-body">
                <h4
                  class="card-title"
                  style="font-weight: bold; font-size: 28px"
                >
                  Pullout Form
                </h4>
              </div>

              <div style="display: flex; flex-direction: column">
                <div
                  style="
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    width: auto;
                    margin: 10px;
                    padding: 10px;
                  "
                >
                  <div
                    class="input-group"
                    style="width: 100%; margin-right: 20px"
                  >
                    <input
                      id="podate"
                      type="date"
                      class="form-control po_data"
                      onfocus="(this.showPicker())"
                      style="
                        background: transparent;
                        border: 1px solid grey;
                        color: white;
                        width: 100%;
                        height: 43px;
                      "
                    />
                  </div>

                  <div style="width: 100%; margin-right: 20px">
                    <select
                      id="customer_name"
                      class="po_data"
                      style="
                        width: 100%;
                        height: 40px;
                        background: transparent;
                        border: 1px solid grey;
                        padding: 5px;
                      "
                      required
                    >
                      <option value="" disabled selected>Customer*</option>
                    </select>
                  </div>
                  <!-- class="col-md-9" -->
                  <div style="width: 100%">
                    <select
                      id="pullout"
                      style="
                        width: 100%;
                        height: 40px;
                        background: transparent;
                        border: 1px solid grey;
                        padding: 5px;
                      "
                      disabled
                    >
                      <!-- <option value="" selected>Pullout By:</option> -->
                    </select>
                  </div>
                </div>

                <div
                  style="
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    width: auto;
                    margin: 10px;
                    padding: 10px;
                  "
                >
                  <div
                    class="input-group"
                    style="width: 100%; margin-right: 30px"
                  >
                    <div class="col-lg-12">
                      <textarea
                        id="problem"
                        class="form-control po_data"
                        placeholder="Problem"
                        rows="4"
                        maxlength="255"
                        style="
                          background: transparent;
                          border: 1px solid grey;
                          color: white;
                          width: 100%;
                          resize: none;
                        "
                      ></textarea>
                    </div>
                  </div>
                  <div class="input-group" style="width: 100%">
                    <div class="col-lg-12">
                      <textarea
                        id="action"
                        class="form-control po_data"
                        placeholder="Action"
                        rows="4"
                        maxlength="255"
                        style="
                          background: transparent;
                          border: 1px solid grey;
                          color: white;
                          width: 100%;
                          resize: none;
                        "
                      ></textarea>
                    </div>
                  </div>
                </div>

                <div
                  style="
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    width: auto;
                    /* background-color: white; */
                    margin: 10px;
                    padding: 10px;
                  "
                >
                  <div class="input-group">
                    <div class="col-lg-12">
                      <textarea
                        id="recommendation"
                        class="form-control po_data"
                        placeholder="Recommendation"
                        rows="4"
                        maxlength="255"
                        style="
                          background: transparent;
                          border: 1px solid grey;
                          color: white;
                          width: 100%;
                          resize: none;
                        "
                      ></textarea>
                    </div>
                  </div>
                </div>
              </div>

              <div
                style="
                  display: flex;
                  align-items: center;
                  justify-content: flex-end;
                  margin-top: 40px;
                "
              >
                <div>
                  <button
                    id="savePO"
                    type="button"
                    onclick="submitPO()"
                    class="btn btn-primary btn-lg"
                  >
                    Save
                  </button>
                </div>
                <div style="margin-left: 10px">
                  <button
                    type="button"
                    onclick="cancel()"
                    class="btn btn-secondary btn-lg"
                  >
                    Cancel
                  </button>
                </div>
              </div>
            </form>
          </div>
          <!-- </div> -->
        </div>
        <footer class="footer text-center">
          All Rights Reserved by
          <a href="http://pricelist.zankpos.com/">Zank POS Enterprises</a>.
        </footer>
      </div>
    </div>

    <div id="logoutConfirm" class="wrapper-logout">
      <div class="card" id="errorcard">
        <div class="subject">
          <h3>Log Out Confirmation</h3>
          <p id="popup-warning-desc">Are you sure you want to log out?</p>
        </div>
        <div style="display: flex; justify-content: flex-end; margin-left: 40%">
          <button
            class="btn btn-block btn-sm btn-info"
            style="
              width: 4.9vw;
              height: 3.5vh;
              margin-right: 10px;
              padding: 5px;
              border-radius: 4px;
              height: 4.5vh;
            "
            onclick="logOutAccount()"
          >
            Yes
          </button>
          <button
            class="btn btn-block btn-sm btn-info"
            style="
              width: 4.9vw;
              height: 3.5vh;

              padding: 5px;
              border-radius: 4px;
              height: 4.5vh;
            "
            onclick="document.getElementById('logoutConfirm').style.display = 'none';
            $('#main-wrapper').css('opacity', '1');"
          >
            No
          </button>
        </div>
      </div>
    </div>

    <!-- section-success -->
    <div id="success" class="wrapper-success">
      <div class="card">
        <div class="icon"><i class="fas fa-check-circle"></i></div>
        <div class="subject">
          <h3>Success!</h3>
          <p id="popup-description">Successfully created a Pullout!</p>
        </div>
      </div>
    </div>
    <!-- section-error -->
    <div id="error" class="wrapper-error">
      <div class="card">
        <div class="icon"><i class="fas fa-exclamation-circle"></i></div>
        <div class="subject">
          <h3>Warning!</h3>
          <p id="popup-warning-desc">Please fill up the missing fields!</p>
        </div>
      </div>
    </div>
    <div class="loader" id="loadingCircle"></div>
    <script src="../assets/libs/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="../assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="../assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
    <script src="../assets/extra-libs/sparkline/sparkline.js"></script>
    <!--Wave Effects -->
    <script src="../dist/js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="../dist/js/sidebarmenu.js"></script>
    <!--Custom JavaScript -->
    <script src="../dist/js/custom.min.js"></script>
    <!-- This Page JS -->
    <script src="../assets/libs/inputmask/dist/min/jquery.inputmask.bundle.min.js"></script>
    <script src="../dist/js/pages/mask/mask.init.js"></script>
    <script src="../assets/libs/select2/dist/js/select2.full.min.js"></script>
    <script src="../assets/libs/select2/dist/js/select2.min.js"></script>
    <script src="../assets/libs/jquery-asColor/dist/jquery-asColor.min.js"></script>
    <script src="../assets/libs/jquery-asGradient/dist/jquery-asGradient.js"></script>
    <script src="../assets/libs/jquery-asColorPicker/dist/jquery-asColorPicker.min.js"></script>
    <script src="../assets/libs/jquery-minicolors/jquery.minicolors.min.js"></script>
    <script src="../assets/libs/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
    <script src="../assets/libs/quill/dist/quill.min.js"></script>
    <script>
      var date = new Date(); // Replace this with your Date object

      var month = date.getMonth() + 1; // Months are zero-based, so add 1
      var day = date.getDate();
      var year = date.getFullYear();

      // Add leading zeros if necessary
      var formattedDate =
        year +
        "-" +
        (month < 10 ? "0" : "") +
        month +
        "-" +
        (day < 10 ? "0" : "") +
        day;

      document.getElementById("podate").value = formattedDate;

      //***********************************//
      // For select 2
      //***********************************//
      $(".select2").select2();

      /*datepicker*/
      jQuery(".mydatepicker").datepicker();
      jQuery("#datepicker-autoclose").datepicker({
        autoclose: true,
        todayHighlight: true,
      });
      var quill = new Quill("#editor", {
        theme: "snow",
      });

      document
        .getElementById("customer_name")
        .addEventListener("load", loadCustomerNames());

      function loadCustomerNames() {
        fetch("/getJOData")
          .then((response) => response.json())
          .then((data) => {
            data.forEach((row) => {
              // create option using DOM
              const newOption = document.createElement("option");
              const optionText = document.createTextNode(
                `${row.customer_name}`
              );
              // set option text
              newOption.appendChild(optionText);
              // and option value
              newOption.setAttribute("value", `${row.customer_name}`);

              const select = document.getElementById("customer_name");
              select.appendChild(newOption);

              select.addEventListener("change", function () {
                select.style.color = "white";
              });
            });
          })
          .catch((error) => console.error(error));
      }

      function validatePullout() {
        if (
          $("#podate").val() == "" ||
          $("#customer_name").val() == "" ||
          $("#problem").val() == "" ||
          $("#action").val() == "" ||
          $("#recommendation").val() == ""
        ) {
          return false;
        } else {
          return true;
        }
      }

      const poInputs = document.getElementsByClassName("po_data");

      Array.from(poInputs).forEach((input) => {
        input.addEventListener("keypress", (event) => {
          if (event.key === "Enter") {
            event.preventDefault();
            document.getElementById("savePO").click();
          }
        });
      });

      function submitPO() {
        if (validatePullout()) {
          const dateString = $("#podate").val();

          const podate = new Date(dateString);

          const currentTime = new Date();

          const hours = currentTime.getHours();
          const minutes = currentTime.getMinutes();
          const seconds = currentTime.getSeconds();

          podate.setHours(hours, minutes, seconds);
          podate.toUTCString();

          // var curDate = new Date();
          // var currentYear = curDate.getFullYear();

          // if (localStorage.getItem("counter")) {
          //   // If it exists, retrieve its value and convert it to a number
          //   var counter = parseInt(localStorage.getItem("counter"));
          // } else {
          //   // If it doesn't exist, set the counter to an initial value
          //   var counter = 0;
          // }

          // // Increment the counter
          // counter++;

          // // Store the updated value in the localStorage
          // localStorage.setItem("counter", counter);

          // var pullout_id = currentYear + "000000" + counter;

          var poData = {
            podate: podate,
            customer_name: $("#customer_name").val(),
            pullout: $("#pullout").val(),
            problem: $("#problem").val(),
            action: $("#action").val(),
            recommendation: $("#recommendation").val(),
            status: "OPEN",
          };

          console.log(poData);

          var success = document.getElementById("success");

          $.ajax({
            url: "/savePOData",
            type: "POST",
            contentType: "application/json",
            // dataType: "json", // Expect JSON response
            data: JSON.stringify(poData),
            success: function () {
              console.log("Pullout data saved successfully!");
              success.style.display = "block";
              $("#main-wrapper").css("opacity", "0.95");
              setTimeout(function () {
                success.style.display = "none";
                $("#main-wrapper").css("opacity", "1");

                const form = document.getElementById("poForm");
                form.reset();

                location.href = "/pull-out-listing";
              }, 2500);
            },
            error: function (xhr, status, error) {
              console.error("Error saving Pullout data:", error);
            },
          });
        } else {
          error.style.display = "block";
          $("#main-wrapper").css("opacity", "0.95");
          setTimeout(function () {
            error.style.display = "none";
            $("#main-wrapper").css("opacity", "1");
          }, 2500);
        }
      }

      function cancel() {
        window.location.href = "/pull-out-listing";
      }

      function logOut() {
        logoutConfirm.style.display = "block";
        $("#main-wrapper").css("opacity", "0.9");
      }

      function logOutAccount() {
        logoutConfirm.style.display = "none";
        loadingCircle.style.display = "block";

        setTimeout(function () {
          loadingCircle.style.display = "none";
          document.getElementById("popup-description").innerHTML =
            "Log out successful!";
          success.style.display = "block";
          setTimeout(function () {
            document.getElementById("popup-description").innerHTML =
              "Successfully created a Pullout!";
            location.href = "/logout";
          }, 1000);
        }, 2500);

        success.style.display = "none";
      }

      fetch("/getUserCredentials")
        .then((response) => response.json())
        .then((data) => {
          data.forEach((row) => {
            // create option using DOM
            const newOption = document.createElement("option");
            const optionText = document.createTextNode(
              `Pullout By: ${row.username.toString().toUpperCase()}`
            );
            // set option text
            newOption.appendChild(optionText);
            // and option value
            newOption.setAttribute("value", `${row.username}`);

            const select = document.getElementById("pullout");
            select.appendChild(newOption);
          });

          fetch("/getUserLoggedInData")
            .then((response) => response.json())
            .then((data) => {
              data.forEach((row) => {
                const uname = row.username;

                const select = document.querySelector("#pullout");
                select.value = `${uname}`;

                select.style.color = "white";

                var heading = document.getElementById("welcomeUsername");
                heading.innerHTML = `Welcome, ${row.username}!`;
              });
            })
            .catch((error) => console.error(error));
        })
        .catch((error) => console.error(error));
    </script>
  </body>
</html>
